<app-navbar></app-navbar>
<div class="row">
  <div class="col-2">
    <div class="card-body m-2">
      <app-left-menu></app-left-menu>
    </div>
  </div>
  <div class="col-10">
    <div class="row">
      <div class="col-4">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-left text-center">
              <div class="container row">
                <div class="col-md-12">
                  <div class="image" *ngIf="user?.image">
                    <img
                      [src]="getImageToDisplay()"
                      alt="Admin"
                      class="rounded-circle"
                      style="height: 100px; width: 100px"
                    />
                  </div>
                  <div class="image" *ngIf="!user?.image">
                    <img
                      src="assets/stock-images/user.png"
                      alt="Admin"
                      class="rounded-circle"
                      style="height: 100px; width: 100px"
                    />
                  </div>
                </div>
              </div>
              <div class="mt-3">
                <h4>Welcome {{ user.nome }}</h4>
                <br />
                <div class="dropdown show">
                  <a
                    class="btn btn-secondary dropdown-toggle"
                    href="#"
                    role="button"
                    id="dropdownMenuLink"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                  >
                    Manage Profile
                  </a>
                  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" routerLink="/update-user-details"
                      >Update Info</a
                    >
                    <a class="dropdown-item" routerLink="/reset-password"
                      >Reset Password</a
                    >
                  </div>
                </div>
                <br />
                <input
                  style="display: none"
                  type="file"
                  (change)="onFileChanged($event)"
                  #fileInput
                />
                <button
                  class="btn btn-outline-secondary"
                  (click)="fileInput.click()"
                  style="margin: 5px"
                >
                  Upload Image
                </button>
                <button
                  class="btn btn-outline-primary"
                  (click)="onUpload()"
                  style="margin: 5px"
                >
                  Upload!
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-8">
        <div class="card mb-3">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Full Name</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ user.nome }} {{ user.cognome }}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Birthday</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ user.dataDiNascita }}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Country</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ user.country }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
